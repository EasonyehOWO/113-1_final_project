* {
    box-sizing: border-box;
}

html {
    /* Theme Variables - Blue/Purple Gradient Theme */
    --theme-color: hsl(229, 76%, 66%);
    --theme-secondary-color: hsl(229, 76%, 55%);
    --theme-gradient: linear-gradient(135deg, hsl(229, 76%, 66%) 0%, hsl(270, 37%, 46%) 100%);
    --color-on-theme-color: #fff;
    
    --bg-color: white;
    --text-main: #333;
    --text-secondary: #666;
    --text-light: #999;
    
    --success-color: #2e7d32;
    --success-bg: #e8f5e9;
    --success-border: #4caf50;
    
    --error-color: #c62828;
    --error-bg: #ffebee;
    --error-border: #f44336;

    --dim-filter: brightness(0.9);

    /* For unstyled buttons etc. */
    --block-bg: var(--bg-color);
    --dim-block-bg: color-mix(in srgb, var(--bg-color) 90%, black);
    
    /* Shadows */
    --shadow-color: rgba(0, 0, 0, 0.1);
    --shadow-sm: 0 2px 4px var(--shadow-color);
    --shadow: 0 4px 6px var(--shadow-color); /* Mapping old --shadow to this roughly or keeping distinct? Let's map to standard sizes */
    --shadow-md: 0 4px 6px var(--shadow-color);
    --shadow-lg: 0 8px 15px rgba(0,0,0,0.2);
    --shadow-hover: 0 8px 15px rgba(0,0,0,0.2); /* Mapping old --shadow-hover */

    /* Dimensions */
    --radius-sm: 0.5rem;
    --radius-md: 0.75rem;
    --radius-lg: 1rem;
    
    --gap-sm: 0.5rem;
    --gap-md: 1rem;
    --gap-lg: 2rem;
    
    --animation-duration: 0.3s;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 0;
    min-height: 100vh;
    color: var(--text-main);
    line-height: 1.6;
}

a.raised,
input.raised,
button.raised,
textarea.raised {
    border: none;
    border-radius: var(--radius-sm);
    padding: var(--gap-sm);
    box-shadow: var(--shadow);
    transition: 
        box-shadow var(--animation-duration) ease-in-out,
        background-color var(--animation-duration),
        filter var(--animation-duration); 
        /* thou filter is not used here, it's convenient for changed background in :hover*/

    margin: 0;
    font-size: inherit;
    background-color: var(--block-bg);

    &:is(a) {
        display: inline-block;
        text-decoration: none;
    }

    &:is(:hover, :focus-within) {
        &:not(a:active, button:active) {
            box-shadow: var(--shadow-hover);
            background-color: var(--dim-block-bg);
        }
    }
}

a.immersive,
input.immersive,
button.immersive,
textarea.immersive {
    appearance: none;
    border: none;
    display: block;
    background-color: transparent;
    font-size: inherit;
    padding: 0;

    margin: 0;
    transition: background-color var(--animation-duration), filter var(--animation-duration);

    &:is(a) {
        text-decoration: none;
    }

    &:is(:hover, :focus-within) {
        background-color: var(--block-bg);
    }

    &:active {
        background-color: var(--dim-block-bg);
    }
}

dialog {
    /* assume there is a direct child, .modal-content */
    border: none;
    border-radius: var(--radius-sm);
    padding: 0;
    background: transparent;
    box-shadow: var(--shadow);
    max-width: 400px;
    width: 90%;

    & .modal-content {
        background: var(--block-bg);
        padding: var(--gap-md);
        display: flex;
        flex-direction: column;
        gap: var(--gap-sm);

        backdrop-filter: blur(0.5rem);
    }
}

dialog::backdrop {
    background: var(--shadow-color);
}